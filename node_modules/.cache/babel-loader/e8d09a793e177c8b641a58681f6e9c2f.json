{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\fefer\\\\Desktop\\\\Pages\\\\DH\\\\Front-End 3\\\\Final\\\\fe3-final\\\\src\\\\Components\\\\Card.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { ContextGlobal } from \"./utils/global.context\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Card = _ref => {\n  _s();\n\n  let {\n    name,\n    username,\n    id\n  } = _ref;\n  const {\n    newData\n  } = useContext(ContextGlobal);\n\n  const addFav = id => {\n    const existingData = localStorage.getItem(\"dentistasFav\");\n    let favArray = [];\n\n    if (existingData) {\n      try {\n        favArray = JSON.parse(existingData);\n\n        if (!Array.isArray(favArray)) {\n          throw new Error(\"Los datos existentes no son un array válido.\");\n        }\n      } catch (error) {\n        console.error(\"Error al parsear los datos existentes del localStorage:\", error);\n        return;\n      }\n    }\n\n    const exists = favArray.some(item => item.id === newData.data[id - 1].id);\n\n    if (exists) {\n      return;\n    }\n\n    favArray.push(newData.data[id - 1]);\n    console.log(favArray);\n    localStorage.setItem(\"apiData\", JSON.stringify(favArray));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      children: id\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: username\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: \"/images/doctor.jpg\",\n      alt: \"doctor placeholder\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: `/detail/${id}`,\n      children: name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => addFav(id),\n      className: \"favButton\",\n      children: \"Add fav\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Card, \"sPQ7GS6Z74ICKhJqpaMYecVtN1I=\");\n\n_c = Card;\nexport default Card;\n\nvar _c;\n\n$RefreshReg$(_c, \"Card\");","map":{"version":3,"names":["React","useContext","Link","ContextGlobal","Card","name","username","id","newData","addFav","existingData","localStorage","getItem","favArray","JSON","parse","Array","isArray","Error","error","console","exists","some","item","data","push","log","setItem","stringify"],"sources":["C:/Users/fefer/Desktop/Pages/DH/Front-End 3/Final/fe3-final/src/Components/Card.jsx"],"sourcesContent":["import React, {useContext} from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { ContextGlobal } from \"./utils/global.context\";\r\n\r\nconst Card = ({ name, username, id }) => {\r\n\r\n  const {newData} = useContext(ContextGlobal);\r\n\r\n  const addFav = (id)=>{\r\n    const existingData = localStorage.getItem(\"dentistasFav\");\r\n\r\n    let favArray = [];\r\n\r\n    if (existingData) {\r\n      try {\r\n        favArray = JSON.parse(existingData);\r\n        if (!Array.isArray(favArray)) {\r\n          throw new Error(\"Los datos existentes no son un array válido.\");\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error al parsear los datos existentes del localStorage:\", error);\r\n        return;\r\n      }\r\n    }\r\n\r\n    const exists = favArray.some((item) => item.id === newData.data[id - 1].id);\r\n    if (exists) {\r\n      return;\r\n    }\r\n    favArray.push(newData.data[id - 1]);\r\n    console.log(favArray)\r\n\r\n    localStorage.setItem(\"apiData\", JSON.stringify(favArray));\r\n  }\r\n\r\n  return (\r\n    <div className=\"card\">\r\n        <p>{id}</p>\r\n        <p>{username}</p>\r\n        <img src=\"/images/doctor.jpg\" alt=\"doctor placeholder\" />\r\n        \r\n        <Link to={`/detail/${id}`}>\r\n        {name}\r\n        </Link>\r\n\r\n        <button onClick={() => addFav(id)} className=\"favButton\">Add fav</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,UAAf,QAAgC,OAAhC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,aAAT,QAA8B,wBAA9B;;;AAEA,MAAMC,IAAI,GAAG,QAA4B;EAAA;;EAAA,IAA3B;IAAEC,IAAF;IAAQC,QAAR;IAAkBC;EAAlB,CAA2B;EAEvC,MAAM;IAACC;EAAD,IAAYP,UAAU,CAACE,aAAD,CAA5B;;EAEA,MAAMM,MAAM,GAAIF,EAAD,IAAM;IACnB,MAAMG,YAAY,GAAGC,YAAY,CAACC,OAAb,CAAqB,cAArB,CAArB;IAEA,IAAIC,QAAQ,GAAG,EAAf;;IAEA,IAAIH,YAAJ,EAAkB;MAChB,IAAI;QACFG,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWL,YAAX,CAAX;;QACA,IAAI,CAACM,KAAK,CAACC,OAAN,CAAcJ,QAAd,CAAL,EAA8B;UAC5B,MAAM,IAAIK,KAAJ,CAAU,8CAAV,CAAN;QACD;MACF,CALD,CAKE,OAAOC,KAAP,EAAc;QACdC,OAAO,CAACD,KAAR,CAAc,yDAAd,EAAyEA,KAAzE;QACA;MACD;IACF;;IAED,MAAME,MAAM,GAAGR,QAAQ,CAACS,IAAT,CAAeC,IAAD,IAAUA,IAAI,CAAChB,EAAL,KAAYC,OAAO,CAACgB,IAAR,CAAajB,EAAE,GAAG,CAAlB,EAAqBA,EAAzD,CAAf;;IACA,IAAIc,MAAJ,EAAY;MACV;IACD;;IACDR,QAAQ,CAACY,IAAT,CAAcjB,OAAO,CAACgB,IAAR,CAAajB,EAAE,GAAG,CAAlB,CAAd;IACAa,OAAO,CAACM,GAAR,CAAYb,QAAZ;IAEAF,YAAY,CAACgB,OAAb,CAAqB,SAArB,EAAgCb,IAAI,CAACc,SAAL,CAAef,QAAf,CAAhC;EACD,CAzBD;;EA2BA,oBACE;IAAK,SAAS,EAAC,MAAf;IAAA,wBACI;MAAA,UAAIN;IAAJ;MAAA;MAAA;MAAA;IAAA,QADJ,eAEI;MAAA,UAAID;IAAJ;MAAA;MAAA;MAAA;IAAA,QAFJ,eAGI;MAAK,GAAG,EAAC,oBAAT;MAA8B,GAAG,EAAC;IAAlC;MAAA;MAAA;MAAA;IAAA,QAHJ,eAKI,QAAC,IAAD;MAAM,EAAE,EAAG,WAAUC,EAAG,EAAxB;MAAA,UACCF;IADD;MAAA;MAAA;MAAA;IAAA,QALJ,eASI;MAAQ,OAAO,EAAE,MAAMI,MAAM,CAACF,EAAD,CAA7B;MAAmC,SAAS,EAAC,WAA7C;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QATJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAaD,CA5CD;;GAAMH,I;;KAAAA,I;AA8CN,eAAeA,IAAf"},"metadata":{},"sourceType":"module"}